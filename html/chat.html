<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat - HappyFi</title>
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/chat.css">
</head>
<body>
    <header class="header">
        <div class="container">
            <nav class="nav">
                <a href="../index.html" class="logo">HappyFi</a>
                <ul class="nav-links">
                    <li><a href="../index.html" class="nav-link">Home</a></li>
                    <li><a href="#" class="nav-link">Events</a></li>
                    <li><a href="#" class="nav-link">Search Friends</a></li>
                    <li><a href="chat.html" class="nav-link active">Chat</a></li>
                </ul>
                <div class="auth-buttons">
                    <button class="btn btn-login" id="btnLoginChat">Log In</button>
                    <button class="btn btn-signup" id="btnSignupChat">Sign Up</button>
                </div>
            </nav>
        </div>
    </header>

    <main class="chat-container">
        <!-- Chat List Sidebar -->
        <aside class="chat-list" id="chatList">
            <div class="chat-list-header">
                <h2>Messages</h2>
                <button class="btn-new-chat" title="New Chat">+</button>
            </div>
            <div class="chat-search">
                <input type="text" placeholder="Search conversations..." id="searchChats">
            </div>
            <div class="chat-items">
                <!-- AI Companion Chat -->
                <div class="chat-item active" data-chat-id="miru">
                    <div class="chat-avatar">
                        <img src="https://api.dicebear.com/7.x/bottts/svg?seed=Miru&backgroundColor=FFB3D1" alt="Miru AI">
                        <span class="online-indicator"></span>
                    </div>
                    <div class="chat-info">
                        <div class="chat-header-info">
                            <h3 class="chat-name">Miru AI Companion</h3>
                            <span class="chat-time">Now</span>
                        </div>
                        <div class="chat-preview">
                            <p class="chat-last-message">Hi! I'm here to chat whenever you need a friend. How are you feeling today?</p>
                            <span class="chat-badge">AI</span>
                        </div>
                    </div>
                </div>

                <!-- Example User Chats -->
                <div class="chat-item" data-chat-id="user1">
                    <div class="chat-avatar">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Sarah&backgroundColor=b6e3f4" alt="Sarah">
                    </div>
                    <div class="chat-info">
                        <div class="chat-header-info">
                            <h3 class="chat-name">Sarah Johnson</h3>
                            <span class="chat-time">2:45 PM</span>
                        </div>
                        <div class="chat-preview">
                            <p class="chat-last-message">See you at the concert tomorrow! üéµ</p>
                            <span class="seen-indicator">‚úì‚úì</span>
                        </div>
                    </div>
                </div>

                <div class="chat-item" data-chat-id="user2">
                    <div class="chat-avatar">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Mike&backgroundColor=c0aede" alt="Mike">
                    </div>
                    <div class="chat-info">
                        <div class="chat-header-info">
                            <h3 class="chat-name">Mike Chen</h3>
                            <span class="chat-time">Yesterday</span>
                        </div>
                        <div class="chat-preview">
                            <p class="chat-last-message">The hiking trip was amazing!</p>
                            <span class="seen-indicator">‚úì‚úì</span>
                        </div>
                    </div>
                </div>

                <div class="chat-item" data-chat-id="user3">
                    <div class="chat-avatar">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Emily&backgroundColor=ffd5dc" alt="Emily">
                        <span class="online-indicator"></span>
                    </div>
                    <div class="chat-info">
                        <div class="chat-header-info">
                            <h3 class="chat-name">Emily Rodriguez</h3>
                            <span class="chat-time">Yesterday</span>
                        </div>
                        <div class="chat-preview">
                            <p class="chat-last-message">Thanks for inviting me to the seminar</p>
                            <span class="unread-count">2</span>
                        </div>
                    </div>
                </div>

                <div class="chat-item" data-chat-id="user4">
                    <div class="chat-avatar">
                        <img src="https://api.dicebear.com/7.x/avataaars/svg?seed=Alex&backgroundColor=d1d4f9" alt="Alex">
                    </div>
                    <div class="chat-info">
                        <div class="chat-header-info">
                            <h3 class="chat-name">Alex Kim</h3>
                            <span class="chat-time">Nov 14</span>
                        </div>
                        <div class="chat-preview">
                            <p class="chat-last-message">Let's grab coffee this weekend</p>
                            <span class="seen-indicator">‚úì</span>
                        </div>
                    </div>
                </div>
            </div>
        </aside>

        <!-- Chat Window -->
        <section class="chat-window" id="chatWindow">
            <div class="chat-window-header">
                <button class="btn-back-mobile" id="btnBackMobile">‚Üê</button>
                <div class="chat-contact-info">
                    <div class="chat-avatar-small">
                        <img src="https://api.dicebear.com/7.x/bottts/svg?seed=Miru&backgroundColor=FFB3D1" alt="Miru AI" id="chatHeaderAvatar">
                        <span class="online-indicator"></span>
                    </div>
                    <div>
                        <h3 id="chatHeaderName">Miru AI Companion</h3>
                        <p class="chat-status" id="chatHeaderStatus">Always here for you</p>
                    </div>
                </div>
                <div class="chat-actions">
                    <button class="btn-icon" title="Video Call">üìπ</button>
                    <button class="btn-icon" title="Voice Call">üìû</button>
                    <button class="btn-icon" title="More">‚ãÆ</button>
                </div>
            </div>

            <div class="chat-messages" id="chatMessages">
                <!-- Messages will be loaded here by JavaScript -->
            </div>

            <div class="chat-input-container">
                <button class="btn-icon" title="Attach">üìé</button>
                <input type="text" placeholder="Type a message..." id="messageInput" class="chat-input">
                <button class="btn-icon" title="Emoji">üòä</button>
                <button class="btn-send" id="btnSend">Send</button>
            </div>
        </section>

        <!-- Empty State (shown on mobile when no chat selected) -->
        <section class="chat-empty" id="chatEmpty">
            <div class="empty-state">
                <h2>üí¨</h2>
                <h3>Select a chat to start messaging</h3>
                <p>Connect with friends and our AI companion Miru</p>
            </div>
        </section>
    </main>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" data-modal="loginModal">&times;</span>
            <div class="modal-header">
                <h2>Welcome Back!</h2>
                <p>Login to continue your journey</p>
            </div>
            <form class="auth-form" id="loginForm">
                <div class="form-group">
                    <label for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" placeholder="your@email.com" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" placeholder="Enter your password" required>
                </div>
                <button type="submit" class="btn btn-primary-full">Log In</button>
                <div class="form-footer">
                    <a href="#" class="forgot-password">Forgot password?</a>
                    <p>Don't have an account? <a href="#" class="switch-modal" data-target="signupModal">Sign Up</a></p>
                </div>
            </form>
        </div>
    </div>

    <!-- Sign Up Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" data-modal="signupModal">&times;</span>
            <div class="modal-header">
                <h2>Join HappyFi!</h2>
                <p>Start building meaningful friendships today</p>
            </div>
            <form class="auth-form" id="signupForm">
                <div class="form-group">
                    <label for="signupName">Full Name</label>
                    <input type="text" id="signupName" placeholder="John Doe" required>
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email</label>
                    <input type="email" id="signupEmail" placeholder="your@email.com" required>
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password</label>
                    <input type="password" id="signupPassword" placeholder="Create a password" required>
                </div>
                <div class="form-group">
                    <label for="signupConfirmPassword">Confirm Password</label>
                    <input type="password" id="signupConfirmPassword" placeholder="Confirm your password" required>
                </div>
                <button type="submit" class="btn btn-primary-full">Sign Up</button>
                <div class="form-footer">
                    <p>Already have an account? <a href="#" class="switch-modal" data-target="loginModal">Log In</a></p>
                </div>
            </form>
        </div>
    </div>

    <script src="../js/main.js"></script>
    <script src="../js/chat.js"></script>
</body>
</html>